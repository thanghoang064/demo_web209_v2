{"ast":null,"code":"export function CartAction(product) {\n  const action = {\n    type: 'add-cart',\n    payload: product\n  };\n  return dispatch => {\n    dispatch(action);\n  };\n}\n_c = CartAction;\nexport function saveOrderAction(cart) {\n  return async dispatch => {\n    try {\n      const response = await fetch('http://localhost:3001/order', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(cart)\n      });\n      if (!response.ok) {\n        throw new Error('Error save orders');\n      }\n      const action = {\n        type: 'clear-order-order'\n      };\n      dispatch(action);\n    } catch (error) {\n      console.log('Error:', error);\n    }\n  };\n}\nvar _c;\n$RefreshReg$(_c, \"CartAction\");","map":{"version":3,"names":["CartAction","product","action","type","payload","dispatch","_c","saveOrderAction","cart","response","fetch","method","headers","body","JSON","stringify","ok","Error","error","console","log","$RefreshReg$"],"sources":["/Users/hoangthang/Desktop/react/demo_web209_v2/src/store/order/action.ts"],"sourcesContent":["import { ISinhVien } from \"../sinhvien/action\";\nimport { IOrder } from \"./reduce\";\nimport { AddCartDispatchType, ClearOderStoreDispatchType } from \"./type\";\n\n\nexport interface AddCartAction {\n    type: 'add-cart', // phân biệt được action đấy là action gì (Thêm , Xóa , Sửa)\n    payload: ISinhVien// là dữ liệu được gửi đến cái tk lozz reducer để xử lý\n}\nexport interface IClearOrderStore {\n    type: 'clear-order-order'\n}\n\nexport function CartAction(product: ISinhVien) {\n\n    const action: AddCartAction = {\n        type: 'add-cart',\n        payload: product\n    }\n\n    return (dispatch: AddCartDispatchType) => {\n        dispatch(action)\n    }\n}\nexport function saveOrderAction(cart: IOrder[]) {\n    return async (dispatch: ClearOderStoreDispatchType) => {\n        try {\n            const response = await fetch('http://localhost:3001/order', {\n                method: 'POST',\n                headers: {\n                    'Content-Type': 'application/json'\n                },\n                body: JSON.stringify(cart)\n            });\n\n            if (!response.ok) {\n                throw new Error('Error save orders');\n            }\n\n            const action: IClearOrderStore = {\n                type: 'clear-order-order',\n            }\n\n            dispatch(action)\n\n        } catch (error) {\n            console.log('Error:', error);\n        }\n    }\n}"],"mappings":"AAaA,OAAO,SAASA,UAAUA,CAACC,OAAkB,EAAE;EAE3C,MAAMC,MAAqB,GAAG;IAC1BC,IAAI,EAAE,UAAU;IAChBC,OAAO,EAAEH;EACb,CAAC;EAED,OAAQI,QAA6B,IAAK;IACtCA,QAAQ,CAACH,MAAM,CAAC;EACpB,CAAC;AACL;AAACI,EAAA,GAVeN,UAAU;AAW1B,OAAO,SAASO,eAAeA,CAACC,IAAc,EAAE;EAC5C,OAAO,MAAOH,QAAoC,IAAK;IACnD,IAAI;MACA,MAAMI,QAAQ,GAAG,MAAMC,KAAK,CAAC,6BAA6B,EAAE;QACxDC,MAAM,EAAE,MAAM;QACdC,OAAO,EAAE;UACL,cAAc,EAAE;QACpB,CAAC;QACDC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAACP,IAAI;MAC7B,CAAC,CAAC;MAEF,IAAI,CAACC,QAAQ,CAACO,EAAE,EAAE;QACd,MAAM,IAAIC,KAAK,CAAC,mBAAmB,CAAC;MACxC;MAEA,MAAMf,MAAwB,GAAG;QAC7BC,IAAI,EAAE;MACV,CAAC;MAEDE,QAAQ,CAACH,MAAM,CAAC;IAEpB,CAAC,CAAC,OAAOgB,KAAK,EAAE;MACZC,OAAO,CAACC,GAAG,CAAC,QAAQ,EAAEF,KAAK,CAAC;IAChC;EACJ,CAAC;AACL;AAAC,IAAAZ,EAAA;AAAAe,YAAA,CAAAf,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}